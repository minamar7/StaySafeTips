<!DOCTYPE html>
<html lang="el">
<head>
  <meta charset="UTF-8" />
  <title>Password Generator â€“ Stay Safe Premium</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="./styles.css" />

  <style>
    :root {
      --gold: #facc15;
      --bg-dark: #020617;
      --card-bg: rgba(30, 41, 59, 0.5);
    }

    body { background: var(--bg-dark); }

    .pw-display-container {
      background: var(--card-bg);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 20px;
      padding: 24px;
      margin-bottom: 20px;
      text-align: center;
    }

    .pw-box {
      background: #000;
      border-radius: 12px;
      padding: 15px;
      margin-bottom: 12px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      border: 1px solid var(--gold);
      box-shadow: 0 0 15px rgba(250, 204, 21, 0.1);
    }

    #pw-output {
      font-family: 'Courier New', monospace;
      font-size: 1.2rem;
      color: #fff;
      word-break: break-all;
      letter-spacing: 1px;
    }

    /* Strength Meter */
    .strength-meter {
      height: 4px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 2px;
      margin: 10px 0;
      overflow: hidden;
    }

    #strength-bar {
      height: 100%;
      width: 0%;
      transition: all 0.4s ease;
    }

    .pw-meta {
      font-size: 0.8rem;
      font-weight: bold;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .config-card {
      background: var(--card-bg);
      border-radius: 20px;
      padding: 20px;
      border: 1px solid rgba(255, 255, 255, 0.05);
    }

    .pw-length-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
    }

    .controls-group {
      display: flex;
      gap: 10px;
    }

    .btn-circle {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      background: rgba(255,255,255,0.1);
      border: none;
      color: white;
      font-size: 1.2rem;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .pw-options label {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 10px 0;
      border-bottom: 1px solid rgba(255,255,255,0.05);
      font-size: 0.9rem;
      color: #cbd5e1;
    }

    #pw-gen-btn {
      background: linear-gradient(135deg, #facc15, #eab308);
      color: #422006;
      font-weight: 800;
      padding: 18px;
      border-radius: 16px;
      margin-top: 20px;
      box-shadow: 0 10px 20px rgba(234, 179, 8, 0.2);
    }

    .copy-btn {
      background: transparent;
      border: 1px solid var(--gold);
      color: var(--gold);
      font-size: 0.7rem;
      padding: 5px 10px;
      border-radius: 8px;
    }
  </style>
</head>

<body>
  <div class="app-shell">
    <header class="app-header">
      <div>
        <h1>ğŸ”‘ SafePass Gen</h1>
        <p class="sub">ÎšÏÏ…Ï€Ï„Î¿Î³ÏÎ±Ï†Î·Î¼Î­Î½Î· Î´Î·Î¼Î¹Î¿Ï…ÏÎ³Î¯Î± ÎºÏ‰Î´Î¹ÎºÏÎ½</p>
      </div>
      <a href="index.html" style="color:#64748b; text-decoration:none;">CLOSE</a>
    </header>

    <main>
      <div class="pw-display-container">
        <div class="pw-box">
          <span id="pw-output">â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢</span>
          <button class="copy-btn" id="pw-copy-btn">COPY</button>
        </div>
        
        <div class="strength-meter">
          <div id="strength-bar"></div>
        </div>
        <p class="pw-meta" id="pw-strength-label">Î™Î£Î§Î¥Î£: Î‘Î“ÎÎ©Î£Î¤Î—</p>
      </div>

      <div class="config-card">
        <div class="pw-length-row">
          <span>ÎœÎ®ÎºÎ¿Ï‚: <strong id="pw-length-value" style="color:var(--gold); font-size:1.2rem;">16</strong></span>
          <div class="controls-group">
            <button class="btn-circle" id="pw-dec-btn">âˆ’</button>
            <button class="btn-circle" id="pw-inc-btn">+</button>
          </div>
        </div>

        <div class="pw-options">
          <label>ÎšÎµÏ†Î±Î»Î±Î¯Î± (A-Z) <input type="checkbox" id="opt-upper" checked /></label>
          <label>Î ÎµÎ¶Î¬ (a-z) <input type="checkbox" id="opt-lower" checked /></label>
          <label>Î‘ÏÎ¹Î¸Î¼Î¿Î¯ (0-9) <input type="checkbox" id="opt-num" checked /></label>
          <label>Î£ÏÎ¼Î²Î¿Î»Î± (!@#$%&) <input type="checkbox" id="opt-sym" checked /></label>
        </div>

        <button id="pw-gen-btn">Î”Î—ÎœÎ™ÎŸÎ¥Î¡Î“Î™Î‘ ÎšÎ©Î”Î™ÎšÎŸÎ¥</button>
      </div>
    </main>
  </div>

  <script>
    // Premium Logic
    (function () {
      const isPremium = localStorage.getItem("ss_premium") === "true";
      if (!isPremium) {
        window.location.href = "index.html";
        return;
      }
    })();

    const output = document.getElementById("pw-output");
    const copyBtn = document.getElementById("pw-copy-btn");
    const genBtn = document.getElementById("pw-gen-btn");
    const lenVal = document.getElementById("pw-length-value");
    const strengthBar = document.getElementById("strength-bar");
    const strengthLabel = document.getElementById("pw-strength-label");

    const options = {
      upper: "ABCDEFGHIJKLMNOPQRSTUVWXYZ",
      lower: "abcdefghijklmnopqrstuvwxyz",
      num: "0123456789",
      sym: "!@#$%&*()_+-=[]{}|;:,.<>?"
    };

    /**
     * Crypto-Secure Password Generation
     */
    function generatePassword() {
      let length = parseInt(lenVal.textContent, 10);
      let charset = "";
      if (document.getElementById("opt-upper").checked) charset += options.upper;
      if (document.getElementById("opt-lower").checked) charset += options.lower;
      if (document.getElementById("opt-num").checked) charset += options.num;
      if (document.getElementById("opt-sym").checked) charset += options.sym;

      if (!charset) return alert("Î•Ï€Î¹Î»Î­Î¾Ï„Îµ Ï„Î¿Ï…Î»Î¬Ï‡Î¹ÏƒÏ„Î¿Î½ Î­Î½Î±Î½ Ï„ÏÏ€Î¿ Ï‡Î±ÏÎ±ÎºÏ„Î®ÏÏ‰Î½.");

      let pw = "";
      const array = new Uint32Array(length);
      window.crypto.getRandomValues(array);

      for (let i = 0; i < length; i++) {
        pw += charset.charAt(array[i] % charset.length);
      }

      output.textContent = pw;
      updateStrengthUI(pw);
      if (window.navigator.vibrate) window.navigator.vibrate(5);
    }

    function updateStrengthUI(pw) {
      let score = 0;
      if (pw.length > 12) score += 40;
      if (/[A-Z]/.test(pw)) score += 15;
      if (/[0-9]/.test(pw)) score += 15;
      if (/[^A-Za-z0-9]/.test(pw)) score += 30;

      let color = "#ef4444";
      let label = "Î•Î Î™ÎšÎ™ÎÎ”Î¥ÎÎŸÎ£";

      if (score > 40) { color = "#fbbf24"; label = "ÎœÎ•Î¤Î¡Î™ÎŸÎ£"; }
      if (score > 70) { color = "#22c55e"; label = "Î™Î£Î§Î¥Î¡ÎŸÎ£"; }
      if (score > 90) { color = "#3b82f6"; label = "Î‘Î Î¡ÎŸÎ£Î’Î›Î—Î¤ÎŸÎ£"; }

      strengthBar.style.width = score + "%";
      strengthBar.style.backgroundColor = color;
      strengthLabel.textContent = "Î™Î£Î§Î¥Î£: " + label;
      strengthLabel.style.color = color;
    }

    genBtn.addEventListener("click", generatePassword);

    copyBtn.addEventListener("click", () => {
      navigator.clipboard.writeText(output.textContent).then(() => {
        copyBtn.textContent = "COPIED!";
        copyBtn.style.color = "#22c55e";
        setTimeout(() => {
          copyBtn.textContent = "COPY";
          copyBtn.style.color = "var(--gold)";
        }, 1500);
      });
    });

    document.getElementById("pw-inc-btn").addEventListener("click", () => {
      let val = parseInt(lenVal.textContent);
      if (val < 32) { lenVal.textContent = val + 1; generatePassword(); }
    });

    document.getElementById("pw-dec-btn").addEventListener("click", () => {
      let val = parseInt(lenVal.textContent);
      if (val > 8) { lenVal.textContent = val - 1; generatePassword(); }
    });

    // Initial Gen
    generatePassword();
  </script>
</body>
</html>
