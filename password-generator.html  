<!DOCTYPE html>
<html lang="el">
<head>
  <meta charset="UTF-8" />
  <title>SafePass Generator â€“ Stay Safe Elite</title>

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
  <meta name="theme-color" content="#020617" />

  <link rel="stylesheet" href="./styles.css" />

  <style>
    /* =========================
       DESIGN TOKENS (ELITE)
    ========================= */
    :root {
      --elite-bg: #020617;
      --elite-card: rgba(15, 23, 42, 0.85);
      --elite-border: rgba(255, 255, 255, 0.06);

      --elite-gold: #facc15;
      --elite-green: #22c55e;
      --elite-blue: #3b82f6;
      --elite-red: #ef4444;

      --text-main: #e2e8f0;
      --text-muted: #94a3b8;

      --radius-lg: 20px;
      --radius-md: 14px;
    }

    body {
      margin: 0;
      background: var(--elite-bg);
      color: var(--text-main);
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      -webkit-font-smoothing: antialiased;
    }

    .app-shell {
      max-width: 520px;
      margin: 0 auto;
      padding: 16px;
    }

    .app-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
    }

    .sub {
      color: var(--text-muted);
      font-size: 0.9rem;
    }

    /* =========================
       PASSWORD DISPLAY
    ========================= */
    .elite-card {
      background: var(--elite-card);
      border: 1px solid var(--elite-border);
      border-radius: var(--radius-lg);
      padding: 20px;
      margin-bottom: 16px;
      box-shadow: 0 10px 24px rgba(0, 0, 0, 0.25);
    }

    .pw-box {
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: #000;
      border-radius: var(--radius-md);
      padding: 14px;
      border: 1px solid var(--elite-gold);
      box-shadow: 0 0 14px rgba(250, 204, 21, 0.15);
      margin-bottom: 10px;
    }

    #pw-output {
      font-family: ui-monospace, SFMono-Regular, Menlo, monospace;
      font-size: 1.15rem;
      letter-spacing: 1px;
      word-break: break-all;
    }

    .copy-btn {
      background: transparent;
      border: 1px solid var(--elite-gold);
      color: var(--elite-gold);
      font-size: 0.7rem;
      padding: 6px 10px;
      border-radius: 999px;
      font-weight: 700;
    }

    /* =========================
       STRENGTH METER
    ========================= */
    .strength-meter {
      height: 4px;
      background: rgba(255,255,255,0.08);
      border-radius: 999px;
      overflow: hidden;
      margin: 10px 0;
    }

    #strength-bar {
      height: 100%;
      width: 0%;
      transition: width 0.35s ease, background-color 0.35s ease;
    }

    .pw-meta {
      font-size: 0.75rem;
      font-weight: 800;
      letter-spacing: 0.08em;
    }

    /* =========================
       CONFIG
    ========================= */
    .pw-length-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 14px;
    }

    .controls-group {
      display: flex;
      gap: 8px;
    }

    .btn-circle {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      background: rgba(255,255,255,0.1);
      border: none;
      color: white;
      font-size: 1.2rem;
    }

    .pw-options label {
      display: flex;
      justify-content: space-between;
      padding: 10px 0;
      font-size: 0.9rem;
      color: var(--text-muted);
      border-bottom: 1px solid rgba(255,255,255,0.05);
    }

    #pw-gen-btn {
      width: 100%;
      margin-top: 16px;
      padding: 18px;
      border-radius: var(--radius-md);
      font-weight: 900;
      background: linear-gradient(135deg, var(--elite-gold), #eab308);
      color: #422006;
      box-shadow: 0 10px 22px rgba(234, 179, 8, 0.25);
    }

    @media (prefers-reduced-motion: reduce) {
      * { transition: none !important; }
    }
  </style>
</head>

<body>
<div class="app-shell">

  <header class="app-header">
    <div>
      <h1>ğŸ”‘ SafePass</h1>
      <p class="sub">Elite ÎºÏÏ…Ï€Ï„Î¿Î³ÏÎ±Ï†Î·Î¼Î­Î½Î· Î´Î·Î¼Î¹Î¿Ï…ÏÎ³Î¯Î± ÎºÏ‰Î´Î¹ÎºÏÎ½</p>
    </div>
    <a href="index.html" style="color:#64748b; text-decoration:none;">CLOSE</a>
  </header>

  <main>

    <div class="elite-card">
      <div class="pw-box">
        <span id="pw-output">â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢</span>
        <button class="copy-btn" id="pw-copy-btn">COPY</button>
      </div>

      <div class="strength-meter">
        <div id="strength-bar"></div>
      </div>
      <p class="pw-meta" id="pw-strength-label">Î™Î£Î§Î¥Î£: â€”</p>
    </div>

    <div class="elite-card">
      <div class="pw-length-row">
        <span>ÎœÎ®ÎºÎ¿Ï‚: <strong id="pw-length-value" style="color:var(--elite-gold);">16</strong></span>
        <div class="controls-group">
          <button class="btn-circle" id="pw-dec-btn">âˆ’</button>
          <button class="btn-circle" id="pw-inc-btn">+</button>
        </div>
      </div>

      <div class="pw-options">
        <label>ÎšÎµÏ†Î±Î»Î±Î¯Î± <input type="checkbox" id="opt-upper" checked></label>
        <label>Î ÎµÎ¶Î¬ <input type="checkbox" id="opt-lower" checked></label>
        <label>Î‘ÏÎ¹Î¸Î¼Î¿Î¯ <input type="checkbox" id="opt-num" checked></label>
        <label>Î£ÏÎ¼Î²Î¿Î»Î± <input type="checkbox" id="opt-sym" checked></label>
      </div>

      <button id="pw-gen-btn">Î”Î—ÎœÎ™ÎŸÎ¥Î¡Î“Î™Î‘ ÎšÎ©Î”Î™ÎšÎŸÎ¥</button>
    </div>

  </main>
</div>

<script>
(() => {
  "use strict";

  /* =========================
     PREMIUM GATE
  ========================= */
  if (localStorage.getItem("ss_premium") !== "true") {
    location.replace("index.html");
    return;
  }

  /* =========================
     UTIL
  ========================= */
  const haptic = (ms = 8) => navigator.vibrate?.(ms);

  const output = document.getElementById("pw-output");
  const strengthBar = document.getElementById("strength-bar");
  const strengthLabel = document.getElementById("pw-strength-label");
  const lenVal = document.getElementById("pw-length-value");

  const charset = {
    upper: "ABCDEFGHIJKLMNOPQRSTUVWXYZ",
    lower: "abcdefghijklmnopqrstuvwxyz",
    num: "0123456789",
    sym: "!@#$%&*()_+-=[]{}|;:,.<>?"
  };

  function generate() {
    let chars = "";
    if (opt-upper.checked) chars += charset.upper;
    if (opt-lower.checked) chars += charset.lower;
    if (opt-num.checked) chars += charset.num;
    if (opt-sym.checked) chars += charset.sym;

    if (!chars) return;

    const len = +lenVal.textContent;
    const buf = new Uint32Array(len);
    crypto.getRandomValues(buf);

    let pw = "";
    for (let i = 0; i < len; i++) pw += chars[buf[i] % chars.length];

    output.textContent = pw;
    updateStrength(pw);
    haptic();
  }

  function updateStrength(pw) {
    let score = 0;
    if (pw.length >= 12) score += 30;
    if (/[A-Z]/.test(pw)) score += 20;
    if (/[0-9]/.test(pw)) score += 20;
    if (/[^A-Za-z0-9]/.test(pw)) score += 30;

    let color = "#ef4444", label = "Î‘Î”Î¥ÎÎ‘ÎœÎŸÎ£";
    if (score > 50) { color = "#fbbf24"; label = "ÎšÎ‘Î›ÎŸÎ£"; }
    if (score > 75) { color = "#22c55e"; label = "Î™Î£Î§Î¥Î¡ÎŸÎ£"; }
    if (score > 90) { color = "#3b82f6"; label = "ELITE"; }

    strengthBar.style.width = score + "%";
    strengthBar.style.background = color;
    strengthLabel.textContent = "Î™Î£Î§Î¥Î£: " + label;
    strengthLabel.style.color = color;
  }

  pw-gen-btn.onclick = generate;
  pw-inc-btn.onclick = () => { if (+lenVal.textContent < 32) lenVal.textContent++; generate(); };
  pw-dec-btn.onclick = () => { if (+lenVal.textContent > 8) lenVal.textContent--; generate(); };

  pw-copy-btn.onclick = () => {
    navigator.clipboard.writeText(output.textContent);
    pw-copy-btn.textContent = "COPIED";
    pw-copy-btn.style.color = "var(--elite-green)";
    haptic(12);
    setTimeout(() => pw-copy-btn.textContent = "COPY", 1200);
  };

  generate();
})();
</script>
</body>
</html>