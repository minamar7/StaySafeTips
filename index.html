<!DOCTYPE html>
<html lang="el">
<head>
<meta charset="UTF-8">
<title>Stay Safe Elite</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover">
<meta name="theme-color" content="#020617">
<meta name="apple-mobile-web-app-capable" content="yes">

<style>
:root {
  --bg: #020617;
  --card: #0f172a;
  --accent: #38bdf8;
  --gold: #facc15;
  --text: #e5e7eb;
  --muted: #94a3b8;
}

* { box-sizing: border-box; font-family: -apple-system, system-ui, sans-serif; -webkit-tap-highlight-color: transparent; }
body { margin: 0; background: var(--bg); color: var(--text); overflow-x: hidden; transition: direction 0.3s; }
body[dir="rtl"] { text-align: right; }

.hidden { display: none !important; }

/* Onboarding */
.onboarding-screen {
  position: fixed; inset: 0;
  background: radial-gradient(circle at top, #1e293b, #000);
  display: flex; align-items: center; justify-content: center;
  z-index: 9999;
}
.onboarding-content { text-align: center; padding: 30px; }
.onboarding-icon { font-size: 80px; margin-bottom: 20px; filter: drop-shadow(0 0 20px var(--accent)); }

/* App Header */
.app-header { padding: 40px 20px 20px; background: rgba(15, 23, 42, 0.5); backdrop-filter: blur(10px); border-bottom: 1px solid #1e293b; }
.header-top { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
.user-rank-box { background: #1e293b; border-radius: 20px; padding: 6px 15px; font-size: 14px; color: var(--gold); border: 1px solid rgba(250, 204, 21, 0.3); }

.lang-select {
  background: #1e293b; color: white; border: 1px solid var(--accent);
  padding: 5px 10px; border-radius: 10px; font-size: 12px; outline: none;
}

.xp-container { margin-top: 10px; }
.xp-bar { background: rgba(255,255,255,0.1); border-radius: 10px; height: 12px; overflow: hidden; }
.xp-fill { background: linear-gradient(90deg, var(--gold), #fbbf24); height: 100%; width: 0%; transition: 0.6s cubic-bezier(0.34, 1.56, 0.64, 1); }

/* Content Area */
.content-area { padding: 20px 20px 100px; }
.glass-card { background: linear-gradient(145deg, #1e293b, #0f172a); border-radius: 24px; padding: 25px; margin-bottom: 20px; border: 1px solid rgba(255,255,255,0.05); box-shadow: 0 10px 30px rgba(0,0,0,0.5); }

.main-cta {
  background: linear-gradient(135deg, var(--accent), #0ea5e9);
  border: none; color: #020617; padding: 18px; border-radius: 18px;
  font-size: 16px; font-weight: 800; width: 100%; cursor: pointer;
  transition: transform 0.2s;
}
.main-cta:active { transform: scale(0.96); }

/* Quiz Styles */
.quiz-question-box { background: #1e293b; padding: 20px; border-radius: 20px; margin-bottom: 20px; font-size: 18px; font-weight: 600; text-align: center; }
.quiz-options-grid button {
  background: #0f172a; border: 1px solid #334155; color: white;
  padding: 16px; border-radius: 16px; margin-bottom: 12px; width: 100%;
  font-size: 15px; cursor: pointer; transition: 0.2s;
}

/* Badges */
.badges-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
.badge { background: #0f172a; padding: 25px; border-radius: 22px; text-align: center; font-size: 35px; border: 2px solid transparent; }
.badge.locked { opacity: 0.2; filter: grayscale(1); }
.badge.unlocked { border-color: var(--gold); box-shadow: 0 0 15px rgba(250, 204, 21, 0.3); animation: pop 0.5s; }

/* Navigation */
.nav-tabs { position: fixed; bottom: 0; left: 0; right: 0; height: 80px; background: rgba(2, 6, 23, 0.95); backdrop-filter: blur(15px); display: flex; border-top: 1px solid #1e293b; padding-bottom: 15px; }
.nav-tab { flex: 1; background: none; border: none; color: var(--muted); font-size: 24px; cursor: pointer; }
.nav-tab.active { color: var(--accent); }

/* Overlay */
.quiz-result { position: fixed; inset: 0; background: rgba(0,0,0,0.9); display: flex; align-items: center; justify-content: center; z-index: 10000; }
.quiz-result-card { background: #1e293b; padding: 40px; border-radius: 30px; text-align: center; width: 85%; border: 1px solid var(--accent); }

@keyframes pop { 0% { transform: scale(0.8); } 70% { transform: scale(1.1); } 100% { transform: scale(1); } }
</style>
</head>

<body>

<section id="onboarding" class="onboarding-screen">
  <div class="onboarding-content">
    <div class="onboarding-icon">ğŸ›¡ï¸</div>
    <h1 style="font-size: 32px;" data-i18n="welcome">Stay Safe Elite</h1>
    <p style="color: var(--muted); margin-bottom: 30px;" data-i18n="upgrade_msg">ÎœÎ¬Î¸Îµ Î½Î± Ï€ÏÎ¿ÏƒÏ„Î±Ï„ÎµÏÎµÎ¹Ï‚ Ï„Î¿Î½ ÎµÎ±Ï…Ï„ÏŒ ÏƒÎ¿Ï….</p>
    <button id="btn-start" class="main-cta" data-i18n="start_btn">ÎÎ•ÎšÎ™ÎÎ‘ Î¤ÎŸ Î¤Î‘ÎÎ™Î”Î™</button>
  </div>
</section>

<div id="main_app" class="hidden">

<header class="app-header">
  <div class="header-top">
    <div class="user-rank-box">ğŸ”¥ <span id="streak">1 Day Streak</span></div>
    <select id="lang_select" class="lang-select" onchange="updateLanguage(this.value)">
      <option value="el">ğŸ‡¬ğŸ‡· GR</option>
      <option value="en">ğŸ‡ºğŸ‡¸ EN</option>
      <option value="de">ğŸ‡©ğŸ‡ª DE</option>
      <option value="fr">ğŸ‡«ğŸ‡· FR</option>
      <option value="es">ğŸ‡ªğŸ‡¸ ES</option>
      <option value="pt">ğŸ‡µğŸ‡¹ PT</option>
      <option value="it">ğŸ‡®ğŸ‡¹ IT</option>
      <option value="ru">ğŸ‡·ğŸ‡º RU</option>
      <option value="zh">ğŸ‡¨ğŸ‡³ ZH</option>
      <option value="hi">ğŸ‡®ğŸ‡³ HI</option>
      <option value="ar">ğŸ‡¦ğŸ‡ª AR</option>
    </select>
  </div>
  <h1 style="font-size: 24px;" data-i18n="safety_dashboard">Dashboard</h1>
  <div class="xp-container">
    <div class="xp-bar"><div id="xp_fill" class="xp-fill"></div></div>
    <div style="display:flex; justify-content:space-between; margin-top:5px;">
        <small style="color:var(--muted)">Progress</small>
        <small style="color:var(--gold)"><span data-i18n="level">Level</span> <span id="level_val">1</span></small>
    </div>
  </div>
</header>

<main class="content-area">
  <section id="screen_home" class="screen">
    <div class="glass-card">
      <h2 data-i18n="home_tab">Î‘ÏƒÏ†Î¬Î»ÎµÎ¹Î± Î£Ï€Î¹Ï„Î¹Î¿Ï</h2>
      <button class="main-cta" onclick="startQuiz('free')" data-i18n="entry_quiz_btn">ENTRY QUIZ</button>
    </div>
  </section>

  <section id="screen_quiz" class="screen hidden">
    <div id="question_box" class="quiz-question-box"></div>
    <div id="options_grid" class="quiz-options-grid"></div>
  </section>

  <section id="screen_badges" class="screen hidden">
    <h2 style="margin-bottom:20px;" data-i18n="badges_tab">Î¤ÏÏŒÏ€Î±Î¹Î±</h2>
    <div class="badges-grid">
      <div id="badge_home" class="badge locked">ğŸ </div>
      <div id="badge_digital" class="badge locked">ğŸ›¡ï¸</div>
    </div>
  </section>

  <section id="screen_premium" class="screen hidden">
    <div class="glass-card" style="border: 1px solid var(--gold); text-align:center;">
      <div style="font-size:50px;">ğŸ’</div>
      <h2 data-i18n="premium_tab">Elite Access</h2>
      <p data-i18n="upgrade_msg">ÎÎµÎºÎ»ÎµÎ¯Î´Ï‰ÏƒÎµ ÏŒÎ»Î± Ï„Î± ÎµÏ€Î¯Ï€ÎµÎ´Î±.</p>
      <button class="main-cta" style="background:var(--gold)" onclick="openPaywall()" data-i18n="elite_quiz_btn">ELITE QUIZ</button>
    </div>
  </section>
</main>

<nav class="nav-tabs">
  <button class="nav-tab active" onclick="nav('home')">ğŸ </button>
  <button class="nav-tab" onclick="nav('badges')">ğŸ…</button>
  <button class="nav-tab" onclick="nav('premium')">ğŸ’</button>
</nav>

</div>

<div id="paywall_screen" class="quiz-result hidden">
    <div class="quiz-result-card" style="border: 2px solid var(--gold);">
      <div style="font-size:50px; margin-bottom:10px;">ğŸ‘‘</div>
      <h2 style="color:var(--gold)">Stay Safe Elite</h2>
      <p style="font-size:14px; margin-bottom:20px;">Î“Î¯Î½Îµ Î¼Î­Î»Î¿Ï‚ ÎºÎ±Î¹ Î¾ÎµÎºÎ»ÎµÎ¯Î´Ï‰ÏƒÎµ ÏŒÎ»ÎµÏ‚ Ï„Î¹Ï‚ ÎµÏÏ‰Ï„Î®ÏƒÎµÎ¹Ï‚ ÎºÎ±Î¹ Ï„Î± ÎµÎ¹Î´Î¹ÎºÎ¬ ÏƒÎ®Î¼Î±Ï„Î±!</p>
      <div style="background:rgba(255,255,255,0.05); padding:15px; border-radius:15px; margin-bottom:20px;">
          <h3 style="margin:0; font-size:24px;">2.99â‚¬ <small style="font-size:12px;">/ Î¼Î®Î½Î±</small></h3>
      </div>
      <button class="main-cta" style="background:var(--gold); color:black; margin-bottom:10px;" onclick="alert('Î£ÏÎ½Î´ÎµÏƒÎ· Î¼Îµ PayPal...')">Î•Î“Î“Î¡Î‘Î¦Î— Î¤Î©Î¡Î‘</button>
      <button onclick="closePaywall()" style="background:none; border:none; color:var(--muted); cursor:pointer;">ÎŠÏƒÏ‰Ï‚ Î±ÏÎ³ÏŒÏ„ÎµÏÎ±</button>
    </div>
</div>

<div id="result_screen" class="quiz-result hidden">
  <div class="quiz-result-card">
    <div style="font-size:60px; margin-bottom:10px;">ğŸ†</div>
    <h2 id="result_title" data-i18n="congrats">Î£Ï…Î³Ï‡Î±ÏÎ·Ï„Î®ÏÎ¹Î±!</h2>
    <p id="xp_gained_text" style="color:var(--gold); font-weight:bold; font-size:20px;">+100 XP</p>
    <button class="main-cta" onclick="closeResult()" data-i18n="continue">Î£Î¥ÎÎ•Î§Î•Î™Î‘</button>
  </div>
</div>

<script>
const translations = {
  el: { welcome: "Stay Safe Elite", start_btn: "ÎÎ•ÎšÎ™ÎÎ‘ Î¤ÎŸ Î¤Î‘ÎÎ™Î”Î™", home_tab: "Î‘ÏƒÏ†Î¬Î»ÎµÎ¹Î± Î£Ï€Î¹Ï„Î¹Î¿Ï", badges_tab: "Î¤ÏÏŒÏ€Î±Î¹Î±", premium_tab: "Elite Access", level: "Î•Ï€Î¯Ï€ÎµÎ´Î¿", continue: "Î£Î¥ÎÎ•Î§Î•Î™Î‘", upgrade_msg: "ÎœÎ¬Î¸Îµ Î½Î± Ï€ÏÎ¿ÏƒÏ„Î±Ï„ÎµÏÎµÎ¹Ï‚ Ï„Î¿Î½ ÎµÎ±Ï…Ï„ÏŒ ÏƒÎ¿Ï….", safety_dashboard: "Î Î¯Î½Î±ÎºÎ±Ï‚ Î•Î»Î­Î³Ï‡Î¿Ï…", entry_quiz_btn: "ÎÎ•ÎšÎ™ÎÎ‘ Î¤ÎŸ Î¤Î•Î£Î¤", elite_quiz_btn: "ELITE Î¤Î•Î£Î¤", congrats: "Î£Ï…Î³Ï‡Î±ÏÎ·Ï„Î®ÏÎ¹Î±!" },
  en: { welcome: "Stay Safe Elite", start_btn: "START JOURNEY", home_tab: "Home Safety", badges_tab: "Badges", premium_tab: "Elite Access", level: "Level", continue: "CONTINUE", upgrade_msg: "Learn how to protect yourself.", safety_dashboard: "Dashboard", entry_quiz_btn: "ENTRY QUIZ", elite_quiz_btn: "ELITE QUIZ", congrats: "Congratulations!" },
  de: { welcome: "Stay Safe Elite", start_btn: "STARTEN", home_tab: "Heimsicherheit", badges_tab: "Abzeichen", premium_tab: "Elite Access", level: "Ebene", continue: "WEITER", upgrade_msg: "Lerne dich zu schÃ¼tzen.", safety_dashboard: "Dashboard", entry_quiz_btn: "QUIZ STARTEN", elite_quiz_btn: "ELITE QUIZ", congrats: "GlÃ¼ckwunsch!" },
  fr: { welcome: "Stay Safe Elite", start_btn: "COMMENCER", home_tab: "SÃ©curitÃ© Maison", badges_tab: "TrophÃ©es", premium_tab: "Elite Access", level: "Niveau", continue: "CONTINUER", upgrade_msg: "Apprenez Ã  vous protÃ©ger.", safety_dashboard: "Tableau de bord", entry_quiz_btn: "COMMENCER LE QUIZ", elite_quiz_btn: "QUIZ Ã‰LITE", congrats: "FÃ©licitations!" },
  es: { welcome: "Stay Safe Elite", start_btn: "EMPEZAR", home_tab: "Seguridad Hogar", badges_tab: "Insignias", premium_tab: "Elite Access", level: "Nivel", continue: "CONTINUAR", upgrade_msg: "Aprende a protegerte.", safety_dashboard: "Panel", entry_quiz_btn: "INICIAR CUESTIONARIO", elite_quiz_btn: "CUESTIONARIO ELITE", congrats: "Â¡Felicidades!" },
  pt: { welcome: "Stay Safe Elite", start_btn: "COMEÃ‡AR", home_tab: "SeguranÃ§a Casa", badges_tab: "Conquistas", premium_tab: "Elite Access", level: "NÃ­vel", continue: "CONTINUAR", upgrade_msg: "Aprenda a se proteger.", safety_dashboard: "Painel", entry_quiz_btn: "INICIAR QUIZ", elite_quiz_btn: "QUIZ ELITE", congrats: "ParabÃ©ns!" },
  it: { welcome: "Stay Safe Elite", start_btn: "INIZIA", home_tab: "Sicurezza Casa", badges_tab: "Premi", premium_tab: "Elite Access", level: "Livello", continue: "CONTINUA", upgrade_msg: "Impara a proteggerti.", safety_dashboard: "Dashboard", entry_quiz_btn: "INIZIA QUIZ", elite_quiz_btn: "QUIZ ELITE", congrats: "Congratulazioni!" },
  ru: { welcome: "Stay Safe Elite", start_btn: "ĞĞĞ§ĞĞ¢Ğ¬", home_tab: "Ğ‘ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚ÑŒ Ğ´Ğ¾Ğ¼Ğ°", badges_tab: "Ğ”Ğ¾ÑÑ‚Ğ¸Ğ¶ĞµĞ½Ğ¸Ñ", premium_tab: "Elite Access", level: "Ğ£Ñ€Ğ¾Ğ²ĞµĞ½ÑŒ", continue: "ĞŸĞ ĞĞ”ĞĞ›Ğ–Ğ˜Ğ¢Ğ¬", upgrade_msg: "Ğ£Ğ·Ğ½Ğ°Ğ¹Ñ‚Ğµ, ĞºĞ°Ğº Ğ·Ğ°Ñ‰Ğ¸Ñ‚Ğ¸Ñ‚ÑŒ ÑĞµĞ±Ñ.", safety_dashboard: "ĞŸĞ°Ğ½ĞµĞ»ÑŒ", entry_quiz_btn: "ĞĞĞ§Î‘Ğ¢Ğ¬ Ğ¢Ğ•Ğ¡Ğ¢", elite_quiz_btn: "Ğ­Ğ›Ğ˜Ğ¢ĞĞ«Ğ™ Ğ¢Ğ•Ğ¡Ğ¢", congrats: "ĞŸĞ¾Ğ·Ğ´Ñ€Ğ°Ğ²Ğ»ÑĞµĞ¼!" },
  zh: { welcome: "Stay Safe Elite", start_btn: "å¼€å§‹æ—…ç¨‹", home_tab: "å®¶åº­å®‰å…¨", badges_tab: "å¥–ç« ", premium_tab: "Elite Access", level: "ç­‰çº§", continue: "ç»§ç»­", upgrade_msg: "å­¦ä¹ å¦‚ä½•ä¿æŠ¤è‡ªå·±ã€‚", safety_dashboard: "ä»ªè¡¨æ¿", entry_quiz_btn: "å¼€å§‹æµ‹éªŒ", elite_quiz_btn: "ç²¾è‹±æµ‹éªŒ", congrats: "æ­å–œï¼" },
  hi: { welcome: "Stay Safe Elite", start_btn: "à¤¯à¤¾à¤¤à¥à¤°à¤¾ à¤¶à¥à¤°à¥‚ à¤•à¤°à¥‡à¤‚", home_tab: "à¤˜à¤° à¤•à¥€ à¤¸à¥à¤°à¤•à¥à¤·à¤¾", badges_tab: "à¤¬à¥ˆà¤œ", premium_tab: "Elite Access", level: "à¤¸à¥à¤¤à¤°", continue: "à¤œà¤¾à¤°à¥€ à¤°à¤–à¥‡à¤‚", upgrade_msg: "à¤–à¥à¤¦ à¤•à¥‹ à¤¬à¤šà¤¾à¤¨à¤¾ à¤¸à¥€à¤–à¥‡à¤‚à¥¤", safety_dashboard: "à¤¡à¥ˆà¤¶à¤¬à¥‹à¤°à¥à¤¡", entry_quiz_btn: "à¤ªà¥à¤°à¤¶à¥à¤¨à¤¾à¤µà¤²à¥€ à¤¶à¥à¤°à¥‚ à¤•à¤°à¥‡à¤‚", elite_quiz_btn: "à¤à¤²à¥€à¤Ÿ à¤ªà¥à¤°à¤¶à¥à¤¨à¤¾à¤µà¤²à¥€", congrats: "à¤¬à¤§à¤¾à¤ˆ à¤¹à¥‹!" },
  ar: { welcome: "Stay Safe Elite", start_btn: "Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø±Ø­Ù„Ø©", home_tab: "Ø£Ù…Ù† Ø§Ù„Ù…Ù†Ø²Ù„", badges_tab: "Ø§Ù„Ø£ÙˆØ³Ù…Ø©", premium_tab: "Elite Access", level: "Ø§Ù„Ù…Ø³ØªÙˆÙ‰", continue: "Ø§Ø³ØªÙ…Ø±Ø§Ø±", upgrade_msg: "ØªØ¹Ù„Ù… ÙƒÙŠÙ ØªØ­Ù…ÙŠ Ù†ÙØ³Ùƒ.", safety_dashboard: "Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…", entry_quiz_btn: "Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±", elite_quiz_btn: "Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù†Ø®Ø¨Ø©", congrats: "ØªÙ‡Ø§Ù†ÙŠÙ†Ø§!" }
};

let xp = 0, level = 1, current_q = 0, quiz_data = [];
let currentLang = 'el';

document.getElementById('btn-start').onclick = () => {
  document.getElementById('onboarding').classList.add('hidden');
  document.getElementById('main_app').classList.remove('hidden');
  const savedLang = localStorage.getItem('user_lang') || 'el';
  updateLanguage(savedLang);
  document.getElementById('lang_select').value = savedLang;
};

function updateLanguage(lang) {
  currentLang = lang;
  localStorage.setItem('user_lang', lang);
  document.body.dir = (lang === 'ar') ? 'rtl' : 'ltr';
  document.querySelectorAll('[data-i18n]').forEach(el => {
    const key = el.getAttribute('data-i18n');
    if (translations[lang] && translations[lang][key]) el.innerText = translations[lang][key];
  });
}

function nav(id) {
  document.querySelectorAll('.screen').forEach(s => s.classList.add('hidden'));
  document.getElementById('screen_' + id).classList.remove('hidden');
  document.querySelectorAll('.nav-tab').forEach(b => b.classList.remove('active'));
  if (event && event.currentTarget) event.currentTarget.classList.add('active');
}

function openPaywall() { document.getElementById('paywall_screen').classList.remove('hidden'); }
function closePaywall() { document.getElementById('paywall_screen').classList.add('hidden'); }

async function startQuiz(mode = 'free') {
  const fileName = `./questions_${mode}_${currentLang}.json`;
  try {
    const response = await fetch(fileName);
    if (!response.ok) throw new Error(`Not found: ${fileName}`);
    const data = await response.json();
    quiz_data = data.sort(() => Math.random() - 0.5).slice(0, 5);
    current_q = 0;
    nav('quiz');
    showQuestion();
  } catch (err) {
    alert("Î£Ï†Î¬Î»Î¼Î±: Î‘Î½ÎµÎ²Î¬ÏƒÏ„Îµ Ï„Î± Î±ÏÏ‡ÎµÎ¯Î± .json ÏƒÏ„Î¿ GitHub Î³Î¹Î± Î½Î± Î¾ÎµÎºÎ¹Î½Î®ÏƒÎµÎ¹ Ï„Î¿ Ï„ÎµÏƒÏ„.");
  }
}

function showQuestion() {
  const qData = quiz_data[current_q];
  document.getElementById('question_box').innerText = qData.q;
  document.getElementById('options_grid').innerHTML = qData.o.map((opt, i) => 
    `<button onclick="handleAnswer(${i})">${opt}</button>`
  ).join('');
}

function handleAnswer(selectedIdx) {
  const qData = quiz_data[current_q];
  const buttons = document.querySelectorAll('#options_grid button');
  buttons.forEach(btn => btn.disabled = true);

  if (selectedIdx === qData.a) {
    buttons[selectedIdx].style.background = "#22c55e"; 
    xp += 20; updateProgress();
  } else {
    buttons[selectedIdx].style.background = "#ef4444";
    buttons[qData.a].style.background = "#22c55e";
  }

  setTimeout(() => {
    current_q++;
    if (current_q < quiz_data.length) {
        showQuestion();
    } else {
        document.getElementById('result_screen').classList.remove('hidden');
        document.getElementById('badge_home').classList.remove('locked');
        document.getElementById('badge_home').classList.add('unlocked');
    }
  }, 1000);
}

function updateProgress() {
  document.getElementById('xp_fill').style.width = (xp % 100) + "%";
  document.getElementById('level_val').innerText = Math.floor(xp / 100) + 1;
}

function closeResult() {
  document.getElementById('result_screen').classList.add('hidden');
  nav('home');
}
</script>
</body>
</html>
