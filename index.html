<!DOCTYPE html>
<html lang="el">
<head>
<meta charset="UTF-8">
<title>Stay Safe Elite</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover">
<meta name="theme-color" content="#020617">

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-XXXXXXXXXXXXXXXX" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

<style>
:root {
  --bg: #020617; --card: #0f172a; --accent: #38bdf8; --gold: #facc15; --text: #e5e7eb; --muted: #94a3b8;
}

* { box-sizing: border-box; font-family: -apple-system, system-ui, sans-serif; -webkit-tap-highlight-color: transparent; }
body { margin: 0; background: var(--bg); color: var(--text); overflow-x: hidden; }
.hidden { display: none !important; }

/* --- Î“Î¡Î‘Î¦Î™ÎšÎ‘ & GLASSMORPHISM --- */
.app-header { padding: 40px 20px 20px; background: rgba(15, 23, 42, 0.5); backdrop-filter: blur(10px); border-bottom: 1px solid #1e293b; position: sticky; top: 0; z-index: 100; }
.glass-card { background: linear-gradient(145deg, #1e293b, #0f172a); border-radius: 24px; padding: 25px; margin-bottom: 20px; border: 1px solid rgba(255,255,255,0.05); box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
.xp-bar { background: rgba(255,255,255,0.1); border-radius: 10px; height: 12px; overflow: hidden; }
.xp-fill { background: linear-gradient(90deg, var(--gold), #fbbf24); height: 100%; width: 0%; transition: 0.6s cubic-bezier(0.34, 1.56, 0.64, 1); }

/* --- Î£Î¥ÎœÎœÎ•Î¤Î¡Î™ÎšÎ‘ WIDGETS --- */
.mini-stats-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-top: 20px; }
.mini-card { background: rgba(255,255,255,0.03); border-radius: 18px; padding: 15px; text-align: center; border: 1px solid rgba(255,255,255,0.05); }

/* --- SOCIAL BUTTONS --- */
.social-container { display: flex; justify-content: center; gap: 20px; margin: 10px 0; }
.social-btn { width: 65px; height: 65px; border-radius: 20px; display: flex; align-items: center; justify-content: center; font-size: 30px; text-decoration: none; transition: 0.3s cubic-bezier(0.17, 0.89, 0.32, 1.49); box-shadow: 0 8px 15px rgba(0,0,0,0.3); }
.social-btn:active { transform: scale(0.9); }
.ig-btn { background: radial-gradient(circle at 30% 107%, #fdf497 0%, #fdf497 5%, #fd5949 45%,#d6249f 60%,#285AEB 90%); }
.tt-btn { background: #000; border: 2px solid #25f4ee; border-right-color: #fe2c55; border-bottom-color: #fe2c55; }

/* --- QUIZ & BUTTONS --- */
.main-cta { background: linear-gradient(135deg, var(--accent), #0ea5e9); border: none; color: #020617; padding: 18px; border-radius: 18px; font-size: 16px; font-weight: 800; width: 100%; cursor: pointer; transition: 0.2s; }
.main-cta:active { transform: scale(0.98); }
.opt-btn { background: #0f172a; border: 1px solid #334155; color: white; padding: 16px; border-radius: 16px; margin-bottom: 12px; width: 100%; text-align: left; cursor: pointer; transition: 0.3s; }

/* --- BADGES (SUPER EFFECT) --- */
.badges-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
.badge { background: #0f172a; padding: 25px; border-radius: 22px; text-align: center; font-size: 35px; border: 2px solid transparent; opacity: 0.15; filter: grayscale(1); transition: all 0.6s cubic-bezier(0.34, 1.56, 0.64, 1); }
.badge.unlocked { 
    opacity: 1; filter: grayscale(0); border-color: var(--gold); 
    box-shadow: 0 0 25px rgba(250, 204, 21, 0.5); transform: scale(1.05); 
    animation: badgePop 0.5s ease-out;
}
@keyframes badgePop { 0% { transform: scale(0.5); } 100% { transform: scale(1.05); } }

/* --- NAV & OVERLAYS --- */
.nav-tabs { position: fixed; bottom: 0; left: 0; right: 0; height: 80px; background: rgba(2, 6, 23, 0.95); backdrop-filter: blur(15px); display: flex; border-top: 1px solid #1e293b; padding-bottom: 15px; z-index: 1000; }
.nav-tab { flex: 1; background: none; border: none; color: var(--muted); font-size: 24px; }
.nav-tab.active { color: var(--accent); }
.overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.95); display: flex; align-items: center; justify-content: center; z-index: 10000; text-align: center; padding: 20px; }

/* --- LANGUAGE GRID --- */
.lang-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; width: 100%; max-width: 320px; margin: 20px auto; }
</style>
</head>

<body>

<section id="onboarding" class="overlay">
  <div style="width: 100%;">
    <div style="font-size:70px; margin-bottom:10px; filter:drop-shadow(0 0 20px var(--accent));">ğŸ›¡ï¸</div>
    <h1 style="font-size:32px; margin-bottom:5px;">Stay Safe Elite</h1>
    <p style="color:var(--muted); margin-bottom:20px;">Î•Ï€Î¹Î»Î­Î¾Ï„Îµ Î“Î»ÏÏƒÏƒÎ± / Select Language</p>
    
    <div class="lang-grid">
        <button class="opt-btn" style="margin-bottom:0; text-align:center;" onclick="selectInitialLang('el', this)">ğŸ‡¬ğŸ‡· GR</button>
        <button class="opt-btn" style="margin-bottom:0; text-align:center;" onclick="selectInitialLang('en', this)">ğŸ‡ºğŸ‡¸ EN</button>
        <button class="opt-btn" style="margin-bottom:0; text-align:center;" onclick="selectInitialLang('de', this)">ğŸ‡©ğŸ‡ª DE</button>
        <button class="opt-btn" style="margin-bottom:0; text-align:center;" onclick="selectInitialLang('fr', this)">ğŸ‡«ğŸ‡· FR</button>
        <button class="opt-btn" style="margin-bottom:0; text-align:center;" onclick="selectInitialLang('es', this)">ğŸ‡ªğŸ‡¸ ES</button>
        <button class="opt-btn" style="margin-bottom:0; text-align:center;" onclick="selectInitialLang('it', this)">ğŸ‡®ğŸ‡¹ IT</button>
        <button class="opt-btn" style="margin-bottom:0; text-align:center;" onclick="selectInitialLang('ru', this)">ğŸ‡·ğŸ‡º RU</button>
        <button class="opt-btn" style="margin-bottom:0; text-align:center;" onclick="selectInitialLang('zh', this)">ğŸ‡¨ğŸ‡³ ZH</button>
    </div>

    <button id="start_app_btn" class="main-cta" style="width:200px; margin-top: 20px; display: none;" onclick="startApp()">ÎÎ•ÎšÎ™ÎÎ‘ / START</button>
  </div>
</section>

<div id="main_app" class="hidden">
  <header class="app-header">
    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:15px;">
      <div style="color:var(--gold); font-weight:bold; background:rgba(250,204,21,0.1); padding:5px 12px; border-radius:15px;">
        ğŸ”¥ <span id="streak_text">1 Day Streak</span>
      </div>
      <select id="lang_select" style="background:#1e293b; color:white; border:1px solid var(--accent); padding:5px; border-radius:10px;" onchange="current_lang = this.value">
        <option value="el">ğŸ‡¬ğŸ‡· GR</option><option value="en">ğŸ‡ºğŸ‡¸ EN</option><option value="de">ğŸ‡©ğŸ‡ª DE</option>
        <option value="fr">ğŸ‡«ğŸ‡· FR</option><option value="es">ğŸ‡ªğŸ‡¸ ES</option><option value="it">ğŸ‡®ğŸ‡¹ IT</option>
        <option value="pt">ğŸ‡µÎ¤ PT</option><option value="ru">ğŸ‡·ğŸ‡º RU</option><option value="zh">ğŸ‡¨ğŸ‡³ ZH</option><option value="hi">ğŸ‡®ğŸ‡³ HI</option>
      </select>
    </div>
    <div class="xp-bar"><div id="xp_fill" class="xp-fill"></div></div>
    <div style="display:flex; justify-content:space-between; margin-top:5px; font-size:12px;">
      <span style="color:var(--muted)">Progress</span>
      <span style="color:var(--gold)">Level <span id="level_val">1</span></span>
    </div>
  </header>

  <main style="padding: 20px 20px 100px;">
    <section id="screen_home" class="screen">
      <div class="glass-card">
        <h2 style="margin-bottom:15px;">ğŸ›¡ï¸ Î‘ÏƒÏ†Î¬Î»ÎµÎ¹Î± Î£Ï€Î¹Ï„Î¹Î¿Ï</h2>
        <button class="main-cta" onclick="startQuiz('free')">ÎÎ•ÎšÎ™ÎÎ‘ Î¤ÎŸ Î¤Î•Î£Î¤</button>
        
        <div class="mini-stats-grid">
            <div class="mini-card">
                <span style="color:var(--accent); font-weight:bold; display:block;">100%</span>
                <small style="font-size:10px; color:var(--muted)">Safe Scan</small>
            </div>
            <div class="mini-card" onclick="window.location.href='scam-alerts.html'" style="cursor:pointer">
                <span style="color:#ef4444; font-weight:bold; display:block;">LIVE</span>
                <small style="font-size:10px; color:var(--muted)">Scam Alerts</small>
            </div>
        </div>
      </div>

      <div class="glass-card" style="text-align:center;">
        <h3 style="color:var(--accent); font-size:16px; margin-bottom:15px;">Expert Security Tips</h3>
        <div class="social-container">
          <a href="https://instagram.com/USERNAME" target="_blank" class="social-btn ig-btn" onclick="unlockBadge('badge_secret')">ğŸ“¸</a>
          <a href="https://tiktok.com/@USERNAME" target="_blank" class="social-btn tt-btn" onclick="unlockBadge('badge_secret')">ğŸ“±</a>
        </div>
        <p style="font-size:11px; color:var(--gold); margin-top:10px;">ğŸ Secret Badge Unlock on Follow!</p>
      </div>
    </section>

    <section id="screen_quiz" class="screen hidden">
      <div id="question_box" class="glass-card" style="text-align:center; font-weight:bold; min-height:100px; display:flex; align-items:center; justify-content:center; font-size:18px;"></div>
      <div id="options_grid"></div>
      <button id="next_btn" class="main-cta" onclick="nextQuestion()" style="display:none; background:var(--gold); color:black; margin-top:10px;">Î£Î¥ÎÎ•Î§Î•Î™Î‘</button>
    </section>

    <section id="screen_badges" class="screen hidden">
      <h2 style="margin-bottom:20px;">Î¤ÏÏŒÏ€Î±Î¹Î± Elite</h2>
      <div class="badges-grid">
        <div id="badge_home" class="badge">ğŸ </div>
        <div id="badge_shield" class="badge">ğŸ›¡ï¸</div>
        <div id="badge_streak" class="badge">ğŸ”¥</div>
        <div id="badge_secret" class="badge" style="border:2px dashed var(--accent)">ğŸ‘¥</div>
      </div>
    </section>
  </main>

  <nav class="nav-tabs">
    <button class="nav-tab active" onclick="nav('home', this)">ğŸ </button>
    <button class="nav-tab" onclick="nav('badges', this)">ğŸ…</button>
  </nav>
</div>

<div id="ad_screen" class="overlay hidden" style="background:white; color:black; z-index:20000;">
    <div>
        <small style="color:gray">Advertisement</small>
        <div style="width:300px; height:250px; background:#f0f0f0; margin:20px auto; border:2px dashed #ccc; display:flex; align-items:center; justify-content:center; color:#999;">Ad Content</div>
        <button id="close_ad_btn" class="main-cta" style="background:black; color:white; width:200px; display:none;" onclick="closeAd()">ÎšÎ›Î•Î™Î£Î™ÎœÎŸ</button>
        <p id="ad_timer" style="font-weight:bold; font-size:14px;">Î ÏÎ¿Î²Î¿Î»Î® Î´Î¹Î±Ï†Î®Î¼Î¹ÏƒÎ·Ï‚ ÏƒÎµ 5...</p>
    </div>
</div>

<div id="level_up_modal" class="overlay hidden">
    <div class="glass-card" style="text-align:center; width:85%; border:2px solid var(--gold);">
        <div style="font-size:70px; filter: drop-shadow(0 0 15px var(--gold));">â­</div>
        <h2 style="color:var(--gold); font-size:30px; margin:10px 0;">LEVEL UP!</h2>
        <p style="margin-bottom:20px;">Î¦Ï„Î¬ÏƒÎ±Ï„Îµ ÏƒÏ„Î¿ Î•Ï€Î¯Ï€ÎµÎ´Î¿ <span id="new_lv_val">2</span></p>
        <button class="main-cta" style="background:var(--gold); color:black;" onclick="closeLevelUp()">Î¤Î•Î›Î•Î™Î‘</button>
    </div>
</div>

<script>
let xp = 0, level = 1, current_q = 0, quiz_data = [], current_lang = 'el';

// --- Î‘Î¡Î§Î™ÎšÎ— Î•Î Î™Î›ÎŸÎ“Î— Î“Î›Î©Î£Î£Î‘Î£ ---
function selectInitialLang(lang, btn) {
    current_lang = lang;
    document.getElementById('lang_select').value = lang;
    
    // Visual feedback
    document.querySelectorAll('#onboarding .opt-btn').forEach(b => {
        b.style.borderColor = "#334155";
        b.style.background = "#0f172a";
    });
    btn.style.borderColor = "var(--accent)";
    btn.style.background = "rgba(56, 189, 248, 0.1)";
    
    document.getElementById('start_app_btn').style.display = 'block';
}

function startApp() {
    document.getElementById('onboarding').classList.add('hidden');
    document.getElementById('main_app').classList.remove('hidden');
    confetti({ particleCount: 150, spread: 70, origin: { y: 0.8 } });
}

// --- STREAK SYSTEM ---
function initStreak() {
    const today = new Date().toDateString();
    const lastVisit = localStorage.getItem('lastVisit');
    let streak = parseInt(localStorage.getItem('streakCount')) || 1;

    if (lastVisit && lastVisit !== today) {
        const yesterday = new Date(); yesterday.setDate(yesterday.getDate() - 1);
        if (lastVisit === yesterday.toDateString()) streak++;
        else streak = 1;
    }
    localStorage.setItem('lastVisit', today);
    localStorage.setItem('streakCount', streak);
    document.getElementById('streak_text').innerText = streak + " Day Streak";
    if(streak >= 3) unlockBadge('badge_streak');
}

function nav(id, btn) {
    document.querySelectorAll('.screen').forEach(s => s.classList.add('hidden'));
    document.getElementById('screen_'+id).classList.remove('hidden');
    document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
    btn.classList.add('active');
}

async function startQuiz(mode) {
    try {
        const res = await fetch(`questions_${mode}_${current_lang}.json`);
        const data = await res.json();
        quiz_data = data.sort(() => Math.random() - 0.5).slice(0, 5);
        current_q = 0; nav('quiz', document.querySelectorAll('.nav-tab')[0]); showQuestion();
    } catch(e) { alert("Error loading JSON: Make sure files are in the same folder."); }
}

function showQuestion() {
    const q = quiz_data[current_q];
    document.getElementById('question_box').innerText = q.q;
    document.getElementById('next_btn').style.display = 'none';
    document.getElementById('options_grid').innerHTML = q.o.map((opt, i) => `<button class="opt-btn" onclick="handleAnswer(${i})">${opt}</button>`).join('');
}

function handleAnswer(idx) {
    const q = quiz_data[current_q];
    const btns = document.querySelectorAll('.opt-btn');
    btns.forEach(b => b.disabled = true);
    if(idx === q.a) { 
        btns[idx].style.background = "#22c55e"; 
        xp += 25; updateProgress(); 
    } else { 
        btns[idx].style.background = "#ef4444"; 
        btns[q.a].style.background = "#22c55e"; 
    }
    document.getElementById('next_btn').style.display = 'block';
}

function nextQuestion() {
    current_q++;
    if(current_q < quiz_data.length) showQuestion();
    else { 
        unlockBadge('badge_home'); 
        nav('home', document.querySelectorAll('.nav-tab')[0]); 
        confetti({ particleCount: 100, gravity: 0.6 }); 
    }
}

function updateProgress() {
    const nextLv = Math.floor(xp / 100) + 1;
    document.getElementById('xp_fill').style.width = (xp % 100) + "%";
    document.getElementById('level_val').innerText = nextLv;
    if(nextLv > level) { level = nextLv; showLevelUp(); }
}

function showLevelUp() {
    document.getElementById('new_lv_val').innerText = level;
    document.getElementById('level_up_modal').classList.remove('hidden');
    confetti({ particleCount: 300, spread: 100, origin: { y: 0.6 }, colors: ['#facc15', '#ffffff'] });
    if(level >= 2) unlockBadge('badge_shield');
}

function closeLevelUp() {
    document.getElementById('level_up_modal').classList.add('hidden');
    showAd();
}

function showAd() {
    document.getElementById('ad_screen').classList.remove('hidden');
    let t = 5;
    const inv = setInterval(() => {
        t--; document.getElementById('ad_timer').innerText = `Î ÏÎ¿Î²Î¿Î»Î® Î´Î¹Î±Ï†Î®Î¼Î¹ÏƒÎ·Ï‚ ÏƒÎµ ${t}...`;
        if(t <= 0) { 
            clearInterval(inv); document.getElementById('ad_timer').style.display = 'none';
            document.getElementById('close_ad_btn').style.display = 'block';
        }
    }, 1000);
}

function closeAd() { document.getElementById('ad_screen').classList.add('hidden'); }
function unlockBadge(id) { document.getElementById(id).classList.add('unlocked'); }

// Init
initStreak();
</script>
</body>
</html>
