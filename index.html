<!DOCTYPE html>
<html lang="el">
<head>
<meta charset="UTF-8">
<title>Stay Safe Elite</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover">
<meta name="theme-color" content="#0b1121">
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

<style>
:root { --bg: #0b1121; --card: #161e2f; --accent: #0ea5e9; --text: #ffffff; }
* { box-sizing: border-box; font-family: -apple-system, system-ui, sans-serif; -webkit-tap-highlight-color: transparent; }
body { margin: 0; background-color: var(--bg); color: var(--text); overflow-x: hidden; min-height: 100vh; }
.hidden { display: none !important; }

/* HEADER - ÎŸÎ Î©Î£ Î£Î¤Î— Î¦Î©Î¤ÎŸ */
.app-header { padding: 30px 20px 10px; background: var(--bg); }
.header-top { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; }
.streak { color: #ff9800; font-weight: bold; font-size: 20px; }
.level-label { color: #38bdf8; font-weight: 800; font-size: 18px; }
.xp-container { width: 100%; background: #1e293b; border-radius: 10px; height: 6px; overflow: hidden; }
.xp-fill { background: #334155; height: 100%; width: 0%; transition: 0.5s; }

/* CARD DESIGN */
.main-container { padding: 20px; display: flex; justify-content: center; align-items: flex-start; margin-top: 40px; }
.glass-card { 
    background: var(--card); border-radius: 40px; padding: 45px 25px; width: 100%; max-width: 350px;
    box-shadow: 0 15px 35px rgba(0,0,0,0.7); text-align: center; border: 1px solid rgba(255,255,255,0.03);
}
.card-title { font-size: 26px; font-weight: 600; margin-bottom: 35px; display: flex; align-items: center; justify-content: center; gap: 12px; }

/* BLUE BUTTON */
.main-cta { 
    background: var(--accent); border: none; color: #000000; padding: 22px; border-radius: 35px; 
    font-size: 20px; font-weight: 800; width: 100%; cursor: pointer; box-shadow: 0 4px 15px rgba(14, 165, 233, 0.4);
}

/* QUIZ OPTIONS */
.option-btn {
    background: #1e293b; border: none; border-radius: 20px; padding: 20px; width: 100%; 
    margin-bottom: 12px; color: white; font-size: 17px; text-align: left; cursor: pointer;
}

/* NAVIGATION */
.nav-tabs { 
    position: fixed; bottom: 0; width: 100%; height: 85px; background: var(--bg); 
    display: flex; justify-content: space-around; align-items: center; border-top: 1px solid #1e293b;
}
.nav-tab { font-size: 32px; cursor: pointer; filter: grayscale(1); opacity: 0.5; }
.nav-tab.active { filter: grayscale(0); opacity: 1; }

/* ONBOARDING */
.overlay { position: fixed; inset: 0; background: var(--bg); z-index: 10000; display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 20px; }
.lang-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; width: 100%; max-width: 340px; margin-top: 30px; }
.lang-btn { background: #1e293b; border-radius: 18px; padding: 18px; color: white; cursor: pointer; text-align: center; font-weight: bold; }
</style>
</head>
<body>

<section id="onboarding" class="overlay">
    <div style="font-size: 70px; filter: drop-shadow(0 0 20px #0ea5e9);">ğŸ›¡ï¸</div>
    <h1 style="margin: 20px 0;">Stay Safe Elite</h1>
    <div class="lang-grid">
        <div class="lang-btn" onclick="initApp('el')">ğŸ‡¬ğŸ‡· GREEK</div>
        <div class="lang-btn" onclick="initApp('en')">ğŸ‡ºğŸ‡¸ ENGLISH</div>
        <div class="lang-btn" onclick="initApp('de')">ğŸ‡©ğŸ‡ª GERMAN</div>
        <div class="lang-btn" onclick="initApp('fr')">ğŸ‡«ğŸ‡· FRENCH</div>
        <div class="lang-btn" onclick="initApp('es')">ğŸ‡ªğŸ‡¸ SPANISH</div>
        <div class="lang-btn" onclick="initApp('it')">ğŸ‡®ğŸ‡¹ ITALIAN</div>
        <div class="lang-btn" onclick="initApp('pt')">ğŸ‡µğŸ‡¹ PORTUGU</div>
        <div class="lang-btn" onclick="initApp('ru')">ğŸ‡·ğŸ‡º RUSSIAN</div>
        <div class="lang-btn" onclick="initApp('zh')">ğŸ‡¨ğŸ‡³ CHINESE</div>
        <div class="lang-btn" onclick="initApp('hi')">ğŸ‡®ğŸ‡³ HINDI</div>
    </div>
</section>

<div id="main_app" class="hidden">
    <header class="app-header">
        <div class="header-top">
            <div class="streak">ğŸ”¥ 1</div>
            <div class="level-label">LEVEL 1</div>
        </div>
        <div class="xp-container"><div id="xp_fill" class="xp-fill"></div></div>
    </header>

    <main class="main-container">
        <section id="screen_home">
            <div class="glass-card">
                <div class="card-title">ğŸ›¡ï¸ Security Check</div>
                <button class="main-cta" onclick="startQuiz()">ÎÎ•ÎšÎ™ÎÎ‘ Î¤ÎŸ Î¤Î•Î£Î¤</button>
                <div style="margin-top: 30px; min-height: 100px; background: rgba(0,0,0,0.2); border-radius: 20px;"></div>
            </div>
        </section>
        <section id="screen_quiz" class="hidden"></section>
    </main>

    <nav class="nav-tabs">
        <div class="nav-tab active" onclick="nav('home', this)">ğŸ </div>
        <div class="nav-tab" onclick="nav('premium', this)">ğŸ’</div>
    </nav>
</div>

<script>
let currentLang = 'el', xp = 0, currentQ = 0, quizData = [], isPremium = false;

// ÎˆÎ»ÎµÎ³Ï‡Î¿Ï‚ Î±Î½ ÎµÎ¯Î½Î±Î¹ Premium
if(localStorage.getItem('isPremium') === 'true') isPremium = true;

function initApp(lang) {
    currentLang = lang;
    document.getElementById('onboarding').classList.add('hidden');
    document.getElementById('main_app').classList.remove('hidden');
}

async function startQuiz() {
    const mode = isPremium ? "premium" : "free";
    // Î”Î™ÎŸÎ¡Î˜Î©Î£Î—: Î ÏÎ¿ÏƒÎ¸Î®ÎºÎ· ./ Î³Î¹Î± Î½Î± Î²ÏÎµÎ¹ Ï„Î± Î±ÏÏ‡ÎµÎ¯Î± ÏƒÏ„Î¿Î½ Î¯Î´Î¹Î¿ Ï†Î¬ÎºÎµÎ»Î¿
    const url = `./questions_${mode}_${currentLang}.json`;
    
    try {
        const res = await fetch(url);
        if (!res.ok) throw new Error("File not found");
        const data = await res.json();
        quizData = data.sort(() => Math.random() - 0.5).slice(0, 5);
        currentQ = 0; 
        showQuestion(); 
        nav('quiz');
    } catch(e) {
        alert("Î”ÎµÎ½ Î²ÏÎ­Î¸Î·ÎºÎµ Ï„Î¿ Quiz Î³Î¹Î± Î±Ï…Ï„Î® Ï„Î· Î³Î»ÏÏƒÏƒÎ±. Î’ÎµÎ²Î±Î¹ÏÏƒÎ¿Ï… ÏŒÏ„Î¹ Ï„Î¿ Î±ÏÏ‡ÎµÎ¯Î¿ " + url + " Ï…Ï€Î¬ÏÏ‡ÎµÎ¹ ÏƒÏ„Î¿ GitHub!");
    }
}

function showQuestion() {
    const q = quizData[currentQ];
    const quizSec = document.getElementById('screen_quiz');
    quizSec.innerHTML = `
        <div class="glass-card">
            <h3 style="margin-bottom:30px; line-height:1.4;">${q.q}</h3>
            <div id="options">${q.o.map((opt, i) => `<button class="option-btn" onclick="handleAnswer(${i})">${opt}</button>`).join('')}</div>
            <button id="next_q" class="main-cta" style="display:none; margin-top:20px;" onclick="nextStep()">Î•Î ÎŸÎœÎ•ÎÎŸ</button>
        </div>`;
}

function handleAnswer(idx) {
    const q = quizData[currentQ];
    const btns = document.querySelectorAll('.option-btn');
    btns.forEach(b => b.disabled = true);
    
    if(idx === q.a) { 
        btns[idx].style.background = "#10b981"; 
        xp += 20; updateXP();
    } else { 
        btns[idx].style.background = "#ef4444"; 
        btns[q.a].style.background = "#10b981"; 
    }
    document.getElementById('next_q').style.display = "block";
}

function nextStep() {
    currentQ++;
    if(currentQ < quizData.length) showQuestion();
    else { nav('home'); confetti({particleCount: 150}); }
}

function updateXP() {
    document.getElementById('xp_fill').style.width = (xp % 100) + "%";
}

function nav(id, btn) {
    document.getElementById('screen_home').classList.add('hidden');
    document.getElementById('screen_quiz').classList.add('hidden');
    if(id === 'home') document.getElementById('screen_home').classList.remove('hidden');
    else document.getElementById('screen_quiz').classList.remove('hidden');
}
</script>
</body>
</html>
